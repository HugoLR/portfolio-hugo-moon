---
import type { SvgComponent } from 'astro/types';

interface Props {
  date: string;
  title: string;
  description: string;
  logo: SvgComponent & ImageMetadata;
  logoHref: string;
  logoCustomWidth?: number;
  isLast?: boolean;
  logoClass?: string;
  companyName?: string;
}

const { date, title, description, logo: LogoComponent, logoHref, logoCustomWidth, isLast = false, logoClass = '', companyName = '' } = Astro.props;
---

<style>
  a {
    transition: transform 0.3s ease-out, opacity 0.3s ease-out;
  }

  a:hover {
    opacity: 100;
  }

  h4 {
    transition: color 0.3s ease-out;
  }

  a:hover ~ h4 {
    color: var(--color-accent-light);
  }

  @media (prefers-reduced-motion: reduce) {
    a,
    h4 {
      transition: none;
    }
  }
</style>

<li class="flex gap-5 relative">
  <div class="flex flex-col items-center relative z-10">
    <div class="w-3 h-3 rounded-full bg-accent-primary shrink-0"></div>
    {!isLast && <div class="w-0.5 h-full bg-text-tertiary"></div>}
  </div>

  <div class="flex-1 flex flex-col gap-3 pb-14">
    <time class="font-mono text-sm text-text-secondary italic -mt-0.5">{date}</time>
    <a
      href={logoHref}
      target="_blank"
      rel="noopener noreferrer"
      aria-label={`Visita el sitio web de ${companyName}`}
      class="inline-block cursor-pointer opacity-60 hover:opacity-100 transition-transform duration-300"
    >
      <LogoComponent
        width={logoCustomWidth || 80}
        class={`object-contain ${logoClass}`}
      />
    </a>
    <h4 class="text-lg font-bold text-accent-primary">{title}</h4>
    <p class="text-sm md:text-base text-text-secondary leading-relaxed">{description}</p>
  </div>
</li>
